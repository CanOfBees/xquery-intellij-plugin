<!DOCTYPE idea-plugin PUBLIC "Plugin/DTD" "https://plugins.jetbrains.com/plugin.dtd">
<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
  <id>uk.co.reecedunn.intellij.plugin.xquery</id>
  <!--suppress PluginXmlValidity -->
  <name>xquery-intellij-plugin</name>
  <version>VERSION</version>
  <vendor email="msclrhd@gmail.com" url="http://reecedunn.co.uk">Reece H. Dunn</vendor>
  <category>XML</category>

  <depends>com.intellij.modules.lang</depends>
  <depends>com.intellij.modules.xdebugger</depends>
  <depends>com.intellij.modules.xml</depends>
  <depends optional="true" config-file="plugin-depends-java.xml">com.intellij.modules.java</depends>

  <description><![CDATA[
    <p>
      XQuery language support, including all BaseX, MarkLogic, and Saxon
      vendor extensions, and the W3C Full Text, Update Facility, and
      Scripting Extensions specifications.
    </p>
    <p>&#xA0;</p>
    <p>Query processor integration:</p>
    <ol>
      <li>Run BaseX, eXist-db, MarkLogic, and Saxon queries.</li>
      <li>Profile BaseX, MarkLogic, and Saxon XQuery and XSLT.</li>
      <li>Log viewer for BaseX and MarkLogic.</li>
      <li>Built-in namespace and function support for BaseX, eXist-db, MarkLogic, and Saxon.</li>
    </ol>
    <p>XPath and XSLT:</p>
    <ol>
      <li>XSLT 3.0 XMLSchema support.</li>
      <li>Experimental XPath support when the XPathView plugin is disabled.</li>
    </ol>
    <p>IntelliJ integration:</p>
    <ol>
      <li>Robust syntax highlighting and error reporting.</li>
      <li>Inspections for several XPath/XQuery static errors.</li>
      <li>Navigate to file, namespace, variable, and function.</li>
      <li>Find usages and semantic usage highlighting.</li>
      <li>Rename refactoring for variables.</li>
      <li>Function, variable, and QName prefix signature tooltips via Ctrl.</li>
      <li>Code folding.</li>
      <li>Code completion.</li>
      <li>Parameter information tooltips and inlay hints.</li>
      <li>Structure view, including on the navigation bar in IntelliJ 2020.1+.</li>
      <li>Breadcrumb navigation.</li>
      <li>Paired brace matching.</li>
      <li>Commenting code.</li>
      <li>Integrated function documentation ("Quick Documentation", Ctrl+Q).</li>
      <li>Context information (Alt+Q) for XQuery function declarations.</li>
      <li>Spellchecking support with bundle dictionaries with XPath, XQuery, and XSLT terms.</li>
    </ol>
  ]]></description>

  <change-notes><![CDATA[
    <h3>Release 1.6-dev:</h3>
    <p>References and Resolving:</p>
    <ol>
      <li>Support <code>BracedURILiteral</code> references (<code>Q{...}</code>).</li>
      <li>
        Support navigating to Java classes specified by <code>java:</code> and
        unprefixed classpath URIs (BaseX, eXist-db, Saxon).
      </li>
      <li>Fix resolving `URIQualifiedName` functions and variables.</li>
    </ol>
    <p>Semantic Highlighting:</p>
    <ol>
      <li>
        Fixed QName prefix semantic highlighting and keyword in QName highlighting
        removal when the QName contains a space.
      </li>
      <li>
        Display the correct type name in the find usages UI for EQNames that
        are annotations, attributes, decimal formats, elements, functions,
        namespaces, options, parameters, pragmas, types, and variables in
        XQuery and XPath.
      </li>
      <li>
        Semantic highlighting of usage types for annotations, attributes, decimal
        formats, elements, function calls and declarations, and namespace declarations
        in XQuery and XPath.
      </li>
      <li>Make XSLT elements use the template language colour style by default.</li>
    </ol>
    <p>IntelliJ Integration:</p>
    <ol>
      <li>Rename refactoring support for variables and functions.</li>
      <li>
        Implement inlay parameter hints for XQuery function calls and named arrow
        function expressions.
      </li>
      <li>Support quick documentation (Ctrl+Q) for W3C XQuery functions.</li>
      <li>Support quick documentation (Ctrl+Q) for MarkLogic modules.</li>
      <li>
        Support displaying the XQuery file structure view in the navigation bar
        on IntelliJ 2020.1.
      </li>
      <li>
        Provide spellchecking support with bundled dictionaries for XPath,
        XQuery, and XSLT terms.
      </li>
      <li>Support context information (Alt+Q) for XQuery function declarations.</li>
      <li>
        Display the namespace signature and module path when holding Ctrl over
        a module namespace URI or prefix.
      </li>
      <li>Support find usage type names in XPath.</li>
    </ol>
    <p>Run Configurations:</p>
    <ol>
      <li>Don't crash on the run configurations page if there are no query processors.</li>
    </ol>
  ]]></change-notes>

  <idea-version since-build="161"/>

  <xi:include href="plugin-compat.xml" xpointer="xpointer(/idea-plugin/*)"/>

  <xi:include href="plugin-lang-sjs.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-lang-xpath.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-lang-xquery.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-lang-xslt.xml" xpointer="xpointer(/idea-plugin/*)"/>

  <xi:include href="plugin-inspections-ijvs.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-inspections-xpst.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-inspections-xqst.xml" xpointer="xpointer(/idea-plugin/*)"/>

  <xi:include href="plugin-documentation.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-modules.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-query-processors.xml" xpointer="xpointer(/idea-plugin/*)"/>

  <extensions defaultExtensionNs="com.intellij">
    <applicationConfigurable groupId="language" displayName="XQuery and XSLT" instance="uk.co.reecedunn.intellij.plugin.intellij.settings.XdmProfileConfigurable">
      <configurable implementation="uk.co.reecedunn.intellij.plugin.intellij.settings.documentation.XQDocDocumentationSourcesConfigurable"/>
    </applicationConfigurable>
  </extensions>
</idea-plugin>
