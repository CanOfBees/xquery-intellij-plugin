<!DOCTYPE idea-plugin PUBLIC "Plugin/DTD" "https://plugins.jetbrains.com/plugin.dtd">
<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
  <id>uk.co.reecedunn.intellij.plugin.xquery</id>
  <!--suppress PluginXmlValidity -->
  <name>xquery-intellij-plugin</name>
  <version>VERSION</version>
  <vendor email="msclrhd@gmail.com" url="http://reecedunn.co.uk">Reece H. Dunn</vendor>
  <category>XML</category>

  <depends>com.intellij.modules.lang</depends>
  <depends>com.intellij.modules.xdebugger</depends>
  <depends>com.intellij.modules.xml</depends>
  <depends optional="true" config-file="plugin-depends-java.xml">com.intellij.modules.java</depends>

  <description><![CDATA[
    <p>
      XQuery and XPath language support, including all BaseX, MarkLogic,
      and Saxon vendor extensions, and the W3C Full Text, Update Facility,
      and Scripting Extensions specifications.
    </p>
    <p>&#xA0;</p>
    <p>Query processor integration:</p>
    <ol>
      <li>Run BaseX, eXist-db, MarkLogic, and Saxon queries.</li>
      <li>Profile BaseX, MarkLogic, and Saxon XQuery and XSLT.</li>
      <li>Log viewer for BaseX and MarkLogic.</li>
      <li>Built-in namespace and function support for BaseX, eXist-db, MarkLogic, and Saxon.</li>
    </ol>
    <p>XPath and XSLT:</p>
    <ol>
      <li>XSLT 3.0 XMLSchema support.</li>
      <li>Experimental XPath support when the XPathView plugin is disabled.</li>
    </ol>
    <p>IntelliJ integration:</p>
    <ol>
      <li>Robust syntax highlighting and error reporting.</li>
      <li>Inspections for several XPath/XQuery static errors.</li>
      <li>Navigate to file, namespace, variable, and function.</li>
      <li>Find usages and semantic usage highlighting.</li>
      <li>Rename refactoring for variables.</li>
      <li>Function, variable, and QName prefix signature tooltips via Ctrl.</li>
      <li>Code folding.</li>
      <li>Code completion.</li>
      <li>Parameter information tooltips and inlay hints.</li>
      <li>Structure view, including on the navigation bar in IntelliJ 2020.1+.</li>
      <li>Breadcrumb navigation.</li>
      <li>Paired brace matching.</li>
      <li>Commenting code.</li>
      <li>Integrated function documentation ("Quick Documentation", Ctrl+Q).</li>
      <li>Context information (Alt+Q) for XQuery function declarations.</li>
      <li>Spellchecking support with bundle dictionaries with XPath, XQuery, and XSLT terms.</li>
    </ol>
  ]]></description>

  <change-notes><![CDATA[
    <h3>Release 1.7-dev:</h3>
    <ol>
      <li>Saxon 10.0 syntax extension support.</li>
      <li>Improved the query result output when running/profiling queries.</li>
      <li>
        Fixed displaying the active structure item in the nav bar when the element
        under the cursor is an XPath element. This is a workaround for
        <a href="https://youtrack.jetbrains.com/issue/IDEA-232100">IDEA-232100</a>.
      </li>
    </ol>
    <p>Run Configurations:</p>
    <ol>
      <li>
        Syntax highlight results in the run query output according to the mimetype of the
        result if the results all have the same mimetype.
      </li>
      <li>Support reformatting the run query output if enabled in the run configuration settings.</li>
      <li>Fix profiling Saxon 10 queries.</li>
    </ol>
    <p>Saxon Syntax Extensions:</p>
    <ol>
      <li>Support for Saxon 9.8 <code>~type</code> type aliases.</li>
      <li>Support for Saxon 10.0 wildcards in element and attribute-based kind tests.</li>
      <li>Support for Saxon 10.0 <code>.{ ... }</code> style context item inline function expressions.</li>
      <li>Support for Saxon 10.0 <code>_{ ... }</code> style lambda inline function expressions.</li>
      <li>Support for Saxon 10.0 <code>otherwise</code> expressions.</li>
      <li>Support for Saxon 10.0 using <code>as</code> for specifying the tuple field type in a tuple sequence type.</li>
      <li>Support for Saxon 10.0 <code>StringLiteral</code> tuple field names.</li>
      <li>Support for Saxon 10.0 <code>type(T)</code> type aliases.</li>
      <li>Support for Saxon 10.0 <code>for member</code> expressions.</li>
    </ol>
  ]]></change-notes>

  <idea-version since-build="161"/>

  <xi:include href="plugin-compat.xml" xpointer="xpointer(/idea-plugin/*)"/>

  <xi:include href="plugin-lang-sjs.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-lang-xpath.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-lang-xquery.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-lang-xslt.xml" xpointer="xpointer(/idea-plugin/*)"/>

  <xi:include href="plugin-inspections-ijvs.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-inspections-xpst.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-inspections-xqst.xml" xpointer="xpointer(/idea-plugin/*)"/>

  <xi:include href="plugin-documentation.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-modules.xml" xpointer="xpointer(/idea-plugin/*)"/>
  <xi:include href="plugin-query-processors.xml" xpointer="xpointer(/idea-plugin/*)"/>

  <extensions defaultExtensionNs="com.intellij">
    <applicationConfigurable groupId="language" displayName="XQuery and XSLT" instance="uk.co.reecedunn.intellij.plugin.intellij.settings.XdmProfileConfigurable">
      <configurable implementation="uk.co.reecedunn.intellij.plugin.intellij.settings.documentation.XQDocDocumentationSourcesConfigurable"/>
    </applicationConfigurable>
  </extensions>
</idea-plugin>
